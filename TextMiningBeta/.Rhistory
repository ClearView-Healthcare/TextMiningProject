file.names <-y$name
for (i in 1:num) {
data<- datum[i]
# text <- paste(data, collapse = " ")
text.punct <- data
if (remove_urls=="") {
text.punct <- text.punct
}
else if (remove_urls=="Remove Urls") {
text.punct <- rm_email(text.punct)
text.punct <- rm_url(text.punct)
text.punct <- rm_twitter_url(text.punct)
}
if (remove_references=="") {
text.punct <-text.punct
}
else if (remove_references=="Remove References") {
text.punct <-rm_citation(text.punct)
text.punct <-rm_citation(text.punct, pattern="@rm_citation3")
text.punct <-rm_citation(text.punct, pattern="@rm_citation2")
text.punct <-rm_round(text.punct)
text.punct <-rm_curly(text.punct)
text.punct <-rm_square(text.punct)
text.split<-strsplit(text.punct, "References|references|REFERENCES")
#text.split <- unlist(text.p)
text.punct<-text.split[[1]]
}
if (remove_html=="") {
text.punct <- text.punct
}
else if (remove_html=="Remove HTML") {
text.punct <- rm_bracket(text.punct)
}
if (lower_cases=="") {
text.punct <- text.punct
}
else if (lower_cases=="Lower Cases") {
text.punct <- tolower(text.punct)
}
if (remove_numbers=="") {
text.punct <- text.punct
}
else if (remove_numbers=="Remove Numbers") {
text.punct<-  gsub('[[:digit:]]+', '', text.punct)
}
if (remove_punctuation==""){
text.punct <- text.punct
}
else if (remove_punctuation=="Remove Punctuation") {
if (exceptions=="") {
text.punct <- gsub("[^[:alnum:] ]", "", text.punct)
}
else if (exceptions=="Keep apostrophe") {
text.punct <- gsub("-", " ", text.punct)
text.punct <- strip(text.punct, char.keep="~~",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep apostrophe and hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)}
}
text.punct <- gsub("\\s\\s+"," ",text.data)
text.punct <- str_c(text.punct)
text.punct<- str_trim(text.punct)
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
data.del <- gsub("[A-Za-z0-9]"," \\1", data)
data.del.w <- paste(data.del, collapse = " ")
data.no.punct<- gsub("([!¿?;,¡:]|(\\.+))", " \\1 ", data.del.w)
data.no.punct <-  gsub("\\s+"," ",data.no.punct)
file.name <- sub("(.*\\/)([^.]+)(\\.[[:alnum:]]+$)", "\\2", file.names[i])#input$file.article.txt$name[i])
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
text.freq <- table(text.split)
text.relative <- 100*(text.freq/sum(text.freq))
novel.list[[file.name]] <- text.relative
punct.list[i] <-data.no.punct
novel.lda[i] <-text.punct
lda.format[i] <- text.punct
text.extract[i] <- text
}
list(data=data, novel.list=novel.list,text.extract=text.extract,punct.list=punct.list,novel.lda=novel.lda,lda.format=lda.format,data=data)
}
mylist <-tokenize(text.extract[1])
tokenize <- function(x,y,remove_urls,remove_references,
remove_html,lower_cases,remove_numbers,
exceptions) {
text.extract <- vector()
lda.format <- vector()
novel.list <- list()
punct.list <-vector()
novel.lda <- list()
datum<- x
num=1# num<-length(y$name)
file.names<-"name"# file.names <-y$name
for (i in 1:num) {
data<- datum[i]
# text <- paste(data, collapse = " ")
text.punct <- data
if (remove_urls=="") {
text.punct <- text.punct
}
else if (remove_urls=="Remove Urls") {
text.punct <- rm_email(text.punct)
text.punct <- rm_url(text.punct)
text.punct <- rm_twitter_url(text.punct)
}
if (remove_references=="") {
text.punct <-text.punct
}
else if (remove_references=="Remove References") {
text.punct <-rm_citation(text.punct)
text.punct <-rm_citation(text.punct, pattern="@rm_citation3")
text.punct <-rm_citation(text.punct, pattern="@rm_citation2")
text.punct <-rm_round(text.punct)
text.punct <-rm_curly(text.punct)
text.punct <-rm_square(text.punct)
text.split<-strsplit(text.punct, "References|references|REFERENCES")
#text.split <- unlist(text.p)
text.punct<-text.split[[1]]
}
if (remove_html=="") {
text.punct <- text.punct
}
else if (remove_html=="Remove HTML") {
text.punct <- rm_bracket(text.punct)
}
if (lower_cases=="") {
text.punct <- text.punct
}
else if (lower_cases=="Lower Cases") {
text.punct <- tolower(text.punct)
}
if (remove_numbers=="") {
text.punct <- text.punct
}
else if (remove_numbers=="Remove Numbers") {
text.punct<-  gsub('[[:digit:]]+', '', text.punct)
}
if (remove_punctuation==""){
text.punct <- text.punct
}
else if (remove_punctuation=="Remove Punctuation") {
if (exceptions=="") {
text.punct <- gsub("[^[:alnum:] ]", "", text.punct)
}
else if (exceptions=="Keep apostrophe") {
text.punct <- gsub("-", " ", text.punct)
text.punct <- strip(text.punct, char.keep="~~",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep apostrophe and hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)}
}
text.punct <- gsub("\\s\\s+"," ",text.data)
text.punct <- str_c(text.punct)
text.punct<- str_trim(text.punct)
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
data.del <- gsub("[A-Za-z0-9]"," \\1", data)
data.del.w <- paste(data.del, collapse = " ")
data.no.punct<- gsub("([!¿?;,¡:]|(\\.+))", " \\1 ", data.del.w)
data.no.punct <-  gsub("\\s+"," ",data.no.punct)
file.name <- sub("(.*\\/)([^.]+)(\\.[[:alnum:]]+$)", "\\2", file.names[i])#input$file.article.txt$name[i])
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
text.freq <- table(text.split)
text.relative <- 100*(text.freq/sum(text.freq))
novel.list[[file.name]] <- text.relative
punct.list[i] <-data.no.punct
novel.lda[i] <-text.punct
lda.format[i] <- text.punct
text.extract[i] <- text
}
list(data=data, novel.list=novel.list,text.extract=text.extract,punct.list=punct.list,novel.lda=novel.lda,lda.format=lda.format,data=data)
}
tokenize <- function(x,y,remove_urls,remove_references,
remove_html,lower_cases,remove_numbers,
exceptions) {
text.extract <- vector()
lda.format <- vector()
novel.list <- list()
punct.list <-vector()
novel.lda <- list()
datum<- x
num=y# num<-length(y$name)
file.names<-"name"# file.names <-y$name
for (i in 1:num) {
data<- datum[i]
# text <- paste(data, collapse = " ")
text.punct <- data
if (remove_urls=="") {
text.punct <- text.punct
}
else if (remove_urls=="Remove Urls") {
text.punct <- rm_email(text.punct)
text.punct <- rm_url(text.punct)
text.punct <- rm_twitter_url(text.punct)
}
if (remove_references=="") {
text.punct <-text.punct
}
else if (remove_references=="Remove References") {
text.punct <-rm_citation(text.punct)
text.punct <-rm_citation(text.punct, pattern="@rm_citation3")
text.punct <-rm_citation(text.punct, pattern="@rm_citation2")
text.punct <-rm_round(text.punct)
text.punct <-rm_curly(text.punct)
text.punct <-rm_square(text.punct)
text.split<-strsplit(text.punct, "References|references|REFERENCES")
#text.split <- unlist(text.p)
text.punct<-text.split[[1]]
}
if (remove_html=="") {
text.punct <- text.punct
}
else if (remove_html=="Remove HTML") {
text.punct <- rm_bracket(text.punct)
}
if (lower_cases=="") {
text.punct <- text.punct
}
else if (lower_cases=="Lower Cases") {
text.punct <- tolower(text.punct)
}
if (remove_numbers=="") {
text.punct <- text.punct
}
else if (remove_numbers=="Remove Numbers") {
text.punct<-  gsub('[[:digit:]]+', '', text.punct)
}
if (remove_punctuation==""){
text.punct <- text.punct
}
else if (remove_punctuation=="Remove Punctuation") {
if (exceptions=="") {
text.punct <- gsub("[^[:alnum:] ]", "", text.punct)
}
else if (exceptions=="Keep apostrophe") {
text.punct <- gsub("-", " ", text.punct)
text.punct <- strip(text.punct, char.keep="~~",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep apostrophe and hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)}
}
text.punct <- gsub("\\s\\s+"," ",text.data)
text.punct <- str_c(text.punct)
text.punct<- str_trim(text.punct)
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
data.del <- gsub("[A-Za-z0-9]"," \\1", data)
data.del.w <- paste(data.del, collapse = " ")
data.no.punct<- gsub("([!¿?;,¡:]|(\\.+))", " \\1 ", data.del.w)
data.no.punct <-  gsub("\\s+"," ",data.no.punct)
file.name <- sub("(.*\\/)([^.]+)(\\.[[:alnum:]]+$)", "\\2", file.names[i])#input$file.article.txt$name[i])
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
text.freq <- table(text.split)
text.relative <- 100*(text.freq/sum(text.freq))
novel.list[[file.name]] <- text.relative
punct.list[i] <-data.no.punct
novel.lda[i] <-text.punct
lda.format[i] <- text.punct
text.extract[i] <- text
}
list(data=data, novel.list=novel.list,text.extract=text.extract,punct.list=punct.list,novel.lda=novel.lda,lda.format=lda.format,data=data)
}
mylist <-tokenize(text.extract[1],y=1,"","","","","","","")
remove_urls=""
remove_references=""
remove_html=""
lower_cases=""
remove_numbers=""
exceptions=""
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,
remove_html,lower_cases,remove_numbers,
exceptions)
remove_punctuation=""
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,remove_punctuation,
remove_html,lower_cases,remove_numbers,
exceptions)
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,remove_punctuation,
remove_html,lower_cases,remove_numbers,
exceptions)
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,remove_punctuation,
remove_html,lower_cases,remove_numbers)
tokenize <- function(x,y,remove_urls,remove_references,
remove_html,lower_cases,remove_numbers,
exceptions) {
text.extract <- vector()
lda.format <- vector()
novel.list <- list()
punct.list <-vector()
novel.lda <- list()
datum<- x
num=y# num<-length(y$name)
file.names<-"name"# file.names <-y$name
for (i in 1:num) {
data<- datum[i]
# text <- paste(data, collapse = " ")
text.punct <- data
if (remove_urls=="") {
text.punct <- text.punct
}
else if (remove_urls=="Remove Urls") {
text.punct <- rm_email(text.punct)
text.punct <- rm_url(text.punct)
text.punct <- rm_twitter_url(text.punct)
}
if (remove_references=="") {
text.punct <-text.punct
}
else if (remove_references=="Remove References") {
text.punct <-rm_citation(text.punct)
text.punct <-rm_citation(text.punct, pattern="@rm_citation3")
text.punct <-rm_citation(text.punct, pattern="@rm_citation2")
text.punct <-rm_round(text.punct)
text.punct <-rm_curly(text.punct)
text.punct <-rm_square(text.punct)
text.split<-strsplit(text.punct, "References|references|REFERENCES")
#text.split <- unlist(text.p)
text.punct<-text.split[[1]]
}
if (remove_html=="") {
text.punct <- text.punct
}
else if (remove_html=="Remove HTML") {
text.punct <- rm_bracket(text.punct)
}
if (lower_cases=="") {
text.punct <- text.punct
}
else if (lower_cases=="Lower Cases") {
text.punct <- tolower(text.punct)
}
if (remove_numbers=="") {
text.punct <- text.punct
}
else if (remove_numbers=="Remove Numbers") {
text.punct<-  gsub('[[:digit:]]+', '', text.punct)
}
if (remove_punctuation==""){
text.punct <- text.punct
}
else if (remove_punctuation=="Remove Punctuation") {
if (exceptions=="") {
text.punct <- gsub("[^[:alnum:] ]", "", text.punct)
}
else if (exceptions=="Keep apostrophe") {
text.punct <- gsub("-", " ", text.punct)
text.punct <- strip(text.punct, char.keep="~~",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep apostrophe and hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)}
}
text.punct <- gsub("\\s\\s+"," ",text.punct)
text.punct <- str_c(text.punct)
text.punct<- str_trim(text.punct)
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
data.del <- gsub("[A-Za-z0-9]"," \\1", data)
data.del.w <- paste(data.del, collapse = " ")
data.no.punct<- gsub("([!¿?;,¡:]|(\\.+))", " \\1 ", data.del.w)
data.no.punct <-  gsub("\\s+"," ",data.no.punct)
file.name <- sub("(.*\\/)([^.]+)(\\.[[:alnum:]]+$)", "\\2", file.names[i])#input$file.article.txt$name[i])
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
text.freq <- table(text.split)
text.relative <- 100*(text.freq/sum(text.freq))
novel.list[[file.name]] <- text.relative
punct.list[i] <-data.no.punct
novel.lda[i] <-text.punct
lda.format[i] <- text.punct
text.extract[i] <- text
}
list(data=data, novel.list=novel.list,text.extract=text.extract,punct.list=punct.list,novel.lda=novel.lda,lda.format=lda.format,data=data)
}
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,remove_punctuation,
remove_html,lower_cases,remove_numbers)
tokenize <- function(x,y,remove_urls,remove_references,
remove_html,lower_cases,remove_numbers,
exceptions) {
text.extraction <- vector()
lda.format <- vector()
novel.list <- list()
punct.list <-vector()
novel.lda <- list()
datum<- x
num=y# num<-length(y$name)
file.names<-"name"# file.names <-y$name
for (i in 1:num) {
data<- datum[i]
text <- paste(data, collapse = " ")
text.punct <- data
if (remove_urls=="") {
text.punct <- text.punct
}
else if (remove_urls=="Remove Urls") {
text.punct <- rm_email(text.punct)
text.punct <- rm_url(text.punct)
text.punct <- rm_twitter_url(text.punct)
}
if (remove_references=="") {
text.punct <-text.punct
}
else if (remove_references=="Remove References") {
text.punct <-rm_citation(text.punct)
text.punct <-rm_citation(text.punct, pattern="@rm_citation3")
text.punct <-rm_citation(text.punct, pattern="@rm_citation2")
text.punct <-rm_round(text.punct)
text.punct <-rm_curly(text.punct)
text.punct <-rm_square(text.punct)
text.split<-strsplit(text.punct, "References|references|REFERENCES")
#text.split <- unlist(text.p)
text.punct<-text.split[[1]]
}
if (remove_html=="") {
text.punct <- text.punct
}
else if (remove_html=="Remove HTML") {
text.punct <- rm_bracket(text.punct)
}
if (lower_cases=="") {
text.punct <- text.punct
}
else if (lower_cases=="Lower Cases") {
text.punct <- tolower(text.punct)
}
if (remove_numbers=="") {
text.punct <- text.punct
}
else if (remove_numbers=="Remove Numbers") {
text.punct<-  gsub('[[:digit:]]+', '', text.punct)
}
if (remove_punctuation==""){
text.punct <- text.punct
}
else if (remove_punctuation=="Remove Punctuation") {
if (exceptions=="") {
text.punct <- gsub("[^[:alnum:] ]", "", text.punct)
}
else if (exceptions=="Keep apostrophe") {
text.punct <- gsub("-", " ", text.punct)
text.punct <- strip(text.punct, char.keep="~~",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)
}
else if (exceptions=="Keep apostrophe and hyphen") {
text.punct <- strip(text.punct, char.keep="-",digit.remove = FALSE, apostrophe.remove = FALSE,
lower.case = FALSE)}
}
text.punct <- gsub("\\s\\s+"," ",text.punct)
text.punct <- str_c(text.punct)
text.punct<- str_trim(text.punct)
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
data.del <- gsub("[A-Za-z0-9]"," \\1", data)
data.del.w <- paste(data.del, collapse = " ")
data.no.punct<- gsub("([!¿?;,¡:]|(\\.+))", " \\1 ", data.del.w)
data.no.punct <-  gsub("\\s+"," ",data.no.punct)
file.name <- sub("(.*\\/)([^.]+)(\\.[[:alnum:]]+$)", "\\2", file.names[i])#input$file.article.txt$name[i])
text.split<-strsplit(text.punct, " ")
text.split <- unlist(text.split)
text.freq <- table(text.split)
text.relative <- 100*(text.freq/sum(text.freq))
novel.list[[file.name]] <- text.relative
punct.list[i] <-data.no.punct
novel.lda[i] <-text.punct
lda.format[i] <- text.punct
text.extraction[i] <- text
}
list(data=data, novel.list=novel.list,text.extraction=text.extraction,punct.list=punct.list,novel.lda=novel.lda,lda.format=lda.format,data=data)
}
mylist <-tokenize(text.extract[1],y=1,remove_urls,remove_references,remove_punctuation,
remove_html,lower_cases,remove_numbers)
mylist[1]
mylist[3]
mylist[data]
mylist$data
runApp()
runApp()
runApp()
runApp()
?strip
runApp()
runApp()
runApp('~/R/Tweeter/TextMiningV6')
runApp()
